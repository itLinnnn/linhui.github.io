<!DOCTYPE html><html class="theme-next pisces use-motion"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/linhui.github.io/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/linhui.github.io/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/linhui.github.io/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/linhui.github.io/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/linhui.github.io/images/favicon-32x32-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/linhui.github.io/images/favicon-16x16-next.png?v=5.1.4"><link rel="mask-icon" href="/linhui.github.io/images/logo.svg?v=5.1.4" color="#222"><meta name="keywords" content="Hexo, NexT"><link rel="alternate" href="/linhui.github.io/atom.xml" title="林晖的个人博客" type="application/atom+xml"><meta name="description" content="分享目的： 解释浏览器如何将 HTML、CSS 和 JavaScript 转换为我们可以与之交互的网站，了解这个过程，可以帮助我们优化 Web 应用程序，从而获得更快的速度和更好的性能。问题： 浏览器如何渲染网站？ (接下来会解构这个过程，但是首先，有必要了解一些基础概念) Web 浏览器是一种软件，它从远程服务器（或者本地磁盘）加载文件并将其显示——使用户可以与之交互。浏览器中有一个软件叫浏览器"><meta property="og:type" content="article"><meta property="og:title" content="浏览器页面渲染机制"><meta property="og:url" content="https://itlinnnn.github.io/linhui.github.io/浏览器页面渲染机制/index.html"><meta property="og:site_name" content="林晖的个人博客"><meta property="og:description" content="分享目的： 解释浏览器如何将 HTML、CSS 和 JavaScript 转换为我们可以与之交互的网站，了解这个过程，可以帮助我们优化 Web 应用程序，从而获得更快的速度和更好的性能。问题： 浏览器如何渲染网站？ (接下来会解构这个过程，但是首先，有必要了解一些基础概念) Web 浏览器是一种软件，它从远程服务器（或者本地磁盘）加载文件并将其显示——使用户可以与之交互。浏览器中有一个软件叫浏览器"><meta property="og:locale" content="default"><meta property="og:image" content="https://user-gold-cdn.xitu.io/2018/10/22/16698fb2a401ab9d?w=1922&h=1030&f=png&s=299846"><meta property="og:image" content="https://user-gold-cdn.xitu.io/2018/10/22/166990b96268546b?w=1944&h=1310&f=png&s=384720"><meta property="og:image" content="https://user-gold-cdn.xitu.io/2018/10/22/166990fe47d9a627?w=1958&h=1292&f=png&s=349758"><meta property="og:image" content="https://user-gold-cdn.xitu.io/2018/10/22/166991a0ff1ff46f?w=1982&h=1016&f=png&s=389832"><meta property="og:updated_time" content="2018-10-22T04:35:17.717Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="浏览器页面渲染机制"><meta name="twitter:description" content="分享目的： 解释浏览器如何将 HTML、CSS 和 JavaScript 转换为我们可以与之交互的网站，了解这个过程，可以帮助我们优化 Web 应用程序，从而获得更快的速度和更好的性能。问题： 浏览器如何渲染网站？ (接下来会解构这个过程，但是首先，有必要了解一些基础概念) Web 浏览器是一种软件，它从远程服务器（或者本地磁盘）加载文件并将其显示——使用户可以与之交互。浏览器中有一个软件叫浏览器"><meta name="twitter:image" content="https://user-gold-cdn.xitu.io/2018/10/22/16698fb2a401ab9d?w=1922&h=1030&f=png&s=299846"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/linhui.github.io/",scheme:"Pisces",version:"5.1.4",sidebar:{position:"left",display:"post",offset:12,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"Author"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="https://itlinnnn.github.io/linhui.github.io/浏览器页面渲染机制/"><title>浏览器页面渲染机制 | 林晖的个人博客</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="default"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/linhui.github.io/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">林晖的个人博客</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/linhui.github.io/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>Home</a></li><li class="menu-item menu-item-archives"><a href="/linhui.github.io/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>Archives</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://itlinnnn.github.io/linhui.github.io/linhui.github.io/浏览器页面渲染机制/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="林晖"><meta itemprop="description" content=""><meta itemprop="image" content="/linhui.github.io/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="林晖的个人博客"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">浏览器页面渲染机制</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-22T12:34:56+08:00">2018-10-22</time></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="分享目的：-解释浏览器如何将-HTML、CSS-和-JavaScript-转换为我们可以与之交互的网站，了解这个过程，可以帮助我们优化-Web-应用程序，从而获得更快的速度和更好的性能。"><a href="#分享目的：-解释浏览器如何将-HTML、CSS-和-JavaScript-转换为我们可以与之交互的网站，了解这个过程，可以帮助我们优化-Web-应用程序，从而获得更快的速度和更好的性能。" class="headerlink" title="分享目的： 解释浏览器如何将 HTML、CSS 和 JavaScript 转换为我们可以与之交互的网站，了解这个过程，可以帮助我们优化 Web 应用程序，从而获得更快的速度和更好的性能。"></a>分享目的： 解释浏览器如何将 HTML、CSS 和 JavaScript 转换为我们可以与之交互的网站，了解这个过程，可以帮助我们优化 Web 应用程序，从而获得更快的速度和更好的性能。</h3><h4 id="问题：-浏览器如何渲染网站？-接下来会解构这个过程，但是首先，有必要了解一些基础概念"><a href="#问题：-浏览器如何渲染网站？-接下来会解构这个过程，但是首先，有必要了解一些基础概念" class="headerlink" title="问题： 浏览器如何渲染网站？ (接下来会解构这个过程，但是首先，有必要了解一些基础概念)"></a>问题： 浏览器如何渲染网站？ (接下来会解构这个过程，但是首先，有必要了解一些基础概念)</h4><blockquote><p>Web 浏览器是一种软件，它从远程服务器（或者本地磁盘）加载文件并将其显示——使用户可以与之交互。浏览器中有一个软件叫浏览器引擎。在不同的浏览器中，浏览器的某个部分会根据它接收到的文件确定显示什么，这就是所谓的浏览器引擎。浏览器引擎是每一种主流浏览器的核心软件组件，不同的浏览器开发商用不同的名字来称呼他们的引擎。</p></blockquote><h3 id="1-html解析"><a href="#1-html解析" class="headerlink" title="1. html解析"></a>1. html解析</h3><ul><li>接收信息<br>数据是以“数据包”的形式通过互联网发送，而数据包以字节为单位。当你编写一些 HTML、CSS 和 JS，并试图在浏览器中打开 HTML 文件时，浏览器会从你的硬盘（或网络）中读取 HTML 的原始字节。</li><li>计算机接收到字节数据<br>浏览器读取的是原始数据字节，而不是你编写的代码的实际字符。浏览器读取的是原始数据字节，而不是你编写的代码的实际字符。<ul><li>从 HTML 的原始字节到 DOM，浏览器对象需要处理的是文档对象模型（DOM）对象。那么，DOM 对象是从何而来的呢？首先，将原始数据字节转换为字符。（Bytes =&gt; haracters）</li><li>从字节到字符<br>这一点，你可以通过你所编写的代码的字符看到。这种转换是基于 HTML 文件的字符编码完成的。至此，浏览器已经从原始数据字节转换为文件中的实际字符。但这不是最终的结果。这些字符会被进一步解析为一些称为“标记（token）”的东西。（Bytes =&gt; haracters =&gt; Tokens···）</li><li>从字符到标记<br>那么，这些标记是什么？文本文件中的一堆字符对浏览器引擎而言没什么用处。如果没有这个标记化过程，那么这一堆堆字符只会生成一系列毫无意义的文本，即 HTML 代码——不会生成一个真正的网站。<br>当你保存一个扩展名为.html 的文件时，就向浏览器引擎发出了把文件解析为 HTML 文档的信号。浏览器“解释”这个文件的方式是首先解析它。在解析过程中，特别是在标记化过程中，浏览器会解析 HTML 文件中的每个开始和结束“标签（tag）”。解析器可以识别尖括号中的每个字符串，如“&lt; html&gt;”、“&lt; p&gt;”<blockquote><p>但标记还不是最终的结果。标记化完成后，接下来，标记将被转换为节点。你可以将节点看作是具有特定属性的不同对象。实际上，更好的解释是，将节点看作是文档对象树中的独立实体。但节点仍然不是最终结果。<br>现在，让我们看一下最后一点。在创建好之后，这些节点将被链接到称为DOM 的树数据结构中。DOM 建立起了父子关系、相邻兄弟关系等。在这个 DOM 对象中，每个节点之间都建立了关系。现在，这是我们可以使用的东西了。</p></blockquote></li></ul></li><li>标记<br>但标记还不是最终的结果。标记化完成后，接下来，标记将被转换为节点。你可以将节点看作是具有特定属性的不同对象。实际上，更好的解释是，将节点看作是文档对象树中的独立实体。但节点仍然不是最终结果。</li><li>DOM (Bytes =&gt; haracters =&gt; Tokens =&gt; Node =&gt; DOM)<br>让我们看一下最后一点。在创建好之后，这些节点将被链接到称为 DOM 的树数据结构中。DOM 建立起了父子关系、相邻兄弟关系等。在这个 DOM 对象中，每个节点之间都建立了关系。这个时候，是浏览器需要的东西了。</li></ul><hr><h3 id="2-css解析"><a href="#2-css解析" class="headerlink" title="2.css解析"></a>2.css解析</h3><p>这个是我们很常见的写法<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;link rel=<span class="string">"stylesheet"</span> type=<span class="string">"text/css"</span>  href=<span class="string">"test.css"</span> /&gt;</span><br><span class="line">&lt;<span class="regexp">/head&gt;</span></span><br><span class="line"><span class="regexp">&lt;body&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure><p></p><blockquote><p>当浏览器接收到原始数据字节并启动 DOM 构建过程时，它还会发出请求来获取链接的 test.css 样式表。当浏览器开始解析 HTML 时，在找到 css 文件的链接标签的同时，它会发出请求来获取它。可能你已经猜到，浏览器还是接收 CSS 数据的原始字节，从互联网或是本地磁盘。</p></blockquote><h4 id="浏览器如何处理这些-CSS-数据的原始字节？"><a href="#浏览器如何处理这些-CSS-数据的原始字节？" class="headerlink" title="浏览器如何处理这些 CSS 数据的原始字节？"></a>浏览器如何处理这些 CSS 数据的原始字节？</h4><blockquote><p>当浏览器接收到 CSS 的原始字节时，会启动一个和处理 HTML 原始字节类似的过程。就是说，原始数据字节被转换成字符，然后标记，然后形成节点，最后形成树结构。<br>什么是树结构？大多数人都知道 DOM 这个词。同样，也有一种 CSS 树结构，，浏览器不能使用 HTML 或 CSS 的原始字节。必须将其转换成它能识别的形式，也就是这些树形结构。</p></blockquote><h4 id="DOM-CSSOM-渲染树"><a href="#DOM-CSSOM-渲染树" class="headerlink" title="DOM + CSSOM = 渲染树"></a>DOM + CSSOM = 渲染树</h4><blockquote><p>渲染树包含页面上所有关于可见 DOM 内容的信息以及不同节点所需的所有 CSSOM 信息。注意，如果一个元素被 CSS 隐藏，例如使用 display; none，那么节点就不会包含在渲染树中。隐藏元素会出现在 DOM 中，但不会出现在渲染树中。这是因为渲染树结合了来自 DOM 和 CSSOM 的信息，所以它知道不能把隐藏元素包含在树中。</p></blockquote><h4 id="元素展示"><a href="#元素展示" class="headerlink" title="元素展示"></a>元素展示</h4><blockquote><p>我们已经得到了在屏幕上显示元素所需的所有信息。我们只要把它展示给用户。这就是这个阶段的全部工作。有了元素内容（DOM）、样式（CSSOM）和计算得出的元素的精确布局信息，浏览器现在就可以将节点逐个“绘制”到屏幕上了。元素可以呈现在屏幕上了！</p></blockquote><hr><h3 id="渲染阻塞资源"><a href="#渲染阻塞资源" class="headerlink" title="渲染阻塞资源"></a>渲染阻塞资源</h3><blockquote><p>通俗的解释为有东西阻止了屏幕上节点的实际绘制,在成功绘制之前，必须构造 DOM 和 CSSOM，因此，HTML 和 CSS 都是渲染阻塞资源。</p></blockquote><ul><li>JavaScript 如何执行？<br>一个常用的 Web 应用程序肯定会使用一些 JavaScript。这是一定的。JavaScript 的“问题”在于你可以使用 JavaScript 修改页面的内容和样式。通过这种方式，你可以从 DOM 树中删除元素和添加元素，还可以通过 JavaScript 修改元素的 CSSOM 属性。这很方便，但是同时也带来了弊端</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">  &lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span><br><span class="line">  &lt;title&gt;testRander&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">  &lt;link rel="stylesheet" href="style.css"&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;p&gt;浏览器页面渲染机制&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">  &lt;img src="http:/</span><span class="regexp">/spage.haimati.cn/</span>activityImage/newplan.jpg<span class="string">"&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>这是一个非常常见的文档。样式表 style.css简单定义样式：<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  font-size: <span class="number">20</span>px;</span><br><span class="line">&#125;</span><br><span class="line">body &#123;</span><br><span class="line">  background-color: antiquewhite;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p></blockquote><p><img src="https://user-gold-cdn.xitu.io/2018/10/22/16698fb2a401ab9d?w=1922&amp;h=1030&amp;f=png&amp;s=299846" alt=""></p><p>一段简单的文本和图像呈现在屏幕上。</p><p>根据前面的解释，浏览器从磁盘（或网络）读取 HTML 文件的原始字节并将其转换为字符。字符被进一步解析为标记。当解析器遇到&lt; link rel=”stylesheet” href=”style.css”&gt;时，就会请求获取 CSS 文件 style.css。DOM 构造继续进行，当 CSS 文件返回一些内容后，CSSOM 构造就开始了。</p><ul><li>引入 JavaScript<br>每当浏览器遇到脚本标签时，DOM 构造就会暂停！整个 DOM 构建过程都将停止，直到脚本执行完成。JavaScript 可以同时修改 DOM 和 CSSOM。由于浏览器不确定特定的 JavaScript 会做什么，所以它采取的预防措施是停止整个 DOM 构造。</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">  &lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span><br><span class="line">  &lt;title&gt;testRander&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">  &lt;link rel="stylesheet" href="style.css"&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;p id=<span class="string">"title"</span>&gt;浏览器页面渲染机制&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">  &lt;img src="http:/</span><span class="regexp">/spage.haimati.cn/</span>activityImage/newplan.jpg<span class="string">"&gt;</span></span><br><span class="line"><span class="string">  &lt;script&gt;</span></span><br><span class="line"><span class="string">      let title = document.getElementById("</span>title<span class="string">");</span></span><br><span class="line"><span class="string">      console.log("</span>title is: <span class="string">", title);</span></span><br><span class="line"><span class="string">  &lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://user-gold-cdn.xitu.io/2018/10/22/166990b96268546b?w=1944&amp;h=1310&amp;f=png&amp;s=384720" alt=""><br>当把js放到元素之前的话<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> &lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">  &lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span><br><span class="line">  &lt;title&gt;testRander&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">  &lt;link rel="stylesheet" href="style.css"&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        <span class="keyword">let</span> title = <span class="built_in">document</span>.getElementById(<span class="string">"title"</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"title is: "</span>, title);</span><br><span class="line">    &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">  &lt;p id="title"&gt;浏览器页面渲染机制&lt;/</span>p&gt;</span><br><span class="line">  &lt;img src=<span class="string">"http://spage.haimati.cn/activityImage/newplan.jpg"</span>&gt;</span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>html&gt;</span><br></pre></td></tr></table></figure><p></p><p><img src="https://user-gold-cdn.xitu.io/2018/10/22/166990fe47d9a627?w=1958&amp;h=1292&amp;f=png&amp;s=349758" alt=""></p><blockquote><p>当脚本试图访问一个 id 为 header 的 DOM 节点时，由于 DOM 还没有完成对文档的解析，所以它还不存在。这把我们带到了另一个重要的问题。脚本的位置很重要。</p></blockquote><p>在默认情况下，每个脚本都是一个解析器阻断器！DOM 的构建总是会被打断。不过，有一种方法可以改变这种默认行为。如果将 async 关键字添加到脚本标签中，那么 DOM 构造就不会停止。DOM 构造将继续，脚本将在下载完成并准备就绪后执行。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">  &lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span><br><span class="line">  &lt;title&gt;testRander&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">  &lt;link rel="stylesheet" href="style.css"&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;script src=<span class="string">"test.js"</span> <span class="keyword">async</span>&gt;&lt;/script&gt;</span><br><span class="line">  &lt;p id=<span class="string">"title"</span>&gt;浏览器页面渲染机制&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">  &lt;img src="http:/</span><span class="regexp">/spage.haimati.cn/</span>activityImage/newplan.jpg<span class="string">"&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>把js放入test.js中进行引入<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> title = <span class="built_in">document</span>.getElementById(<span class="string">"title"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"title is: "</span>, title);</span><br></pre></td></tr></table></figure><p></p></blockquote><p><img src="https://user-gold-cdn.xitu.io/2018/10/22/166991a0ff1ff46f?w=1982&amp;h=1016&amp;f=png&amp;s=389832" alt=""></p><blockquote><p>这样DOM的构建就不会停止，脚本在构造完成后执行。</p></blockquote></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/linhui.github.io/Promise的作用以及基本使用/" rel="next" title="Promise的作用以及基本使用"><i class="fa fa-chevron-left"></i> Promise的作用以及基本使用</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/linhui.github.io/svg动画/" rel="prev" title="svg动画">svg动画 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">Table of Contents</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">Overview</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">林晖</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/linhui.github.io/archives/"><span class="site-state-item-count">17</span> <span class="site-state-item-name">posts</span></a></div></nav><div class="feed-link motion-element"><a href="/linhui.github.io/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#分享目的：-解释浏览器如何将-HTML、CSS-和-JavaScript-转换为我们可以与之交互的网站，了解这个过程，可以帮助我们优化-Web-应用程序，从而获得更快的速度和更好的性能。"><span class="nav-number">1.</span> <span class="nav-text">分享目的： 解释浏览器如何将 HTML、CSS 和 JavaScript 转换为我们可以与之交互的网站，了解这个过程，可以帮助我们优化 Web 应用程序，从而获得更快的速度和更好的性能。</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#问题：-浏览器如何渲染网站？-接下来会解构这个过程，但是首先，有必要了解一些基础概念"><span class="nav-number">1.1.</span> <span class="nav-text">问题： 浏览器如何渲染网站？ (接下来会解构这个过程，但是首先，有必要了解一些基础概念)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-html解析"><span class="nav-number">2.</span> <span class="nav-text">1. html解析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-css解析"><span class="nav-number">3.</span> <span class="nav-text">2.css解析</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#浏览器如何处理这些-CSS-数据的原始字节？"><span class="nav-number">3.1.</span> <span class="nav-text">浏览器如何处理这些 CSS 数据的原始字节？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DOM-CSSOM-渲染树"><span class="nav-number">3.2.</span> <span class="nav-text">DOM + CSSOM = 渲染树</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#元素展示"><span class="nav-number">3.3.</span> <span class="nav-text">元素展示</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#渲染阻塞资源"><span class="nav-number">4.</span> <span class="nav-text">渲染阻塞资源</span></a></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2018</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">林晖</span></div><div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div><span class="post-meta-divider">|</span><div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/linhui.github.io/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/linhui.github.io/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/linhui.github.io/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/linhui.github.io/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/linhui.github.io/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/linhui.github.io/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/linhui.github.io/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/linhui.github.io/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/linhui.github.io/js/src/affix.js?v=5.1.4"></script><script type="text/javascript" src="/linhui.github.io/js/src/schemes/pisces.js?v=5.1.4"></script><script type="text/javascript" src="/linhui.github.io/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/linhui.github.io/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/linhui.github.io/js/src/bootstrap.js?v=5.1.4"></script></body></html>