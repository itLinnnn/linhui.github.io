<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="theme-color" content="#34495e">
  <title>Vue的组件的概念与基本使用 | 林晖的个人博客</title>
  <link rel="alternate" href="path/of/rss" type="application/atom+xml">
  <link rel="shortcut icon" type="image/ico" href="/favicon.ico">
  <link rel="stylesheet" href="/linhui.github.io/css/style.css">
  

  

  

  

</head>

<body>
  <div class="mobile-header">
    <span><i class="iconfont icon-turnon" id="mobile-nav-toggle"></i></span>
    <div class="mobile-logo">
      <a href="/linhui.github.io/.">Ztopic</a>
    </div>
  </div>
  <div class="page" id="mobile-nav-panel">
    <div class="container">
      <header class="site-nav">
      <div class="nav-content">
        <div class="logo">
          <a href="/linhui.github.io/">Ztopic</a>
        </div>
        <nav class="navbar">
          <ul>
            
              <li class="menu-item">
                <a href="/linhui.github.io/" class="menu-item-link"><i class="iconfont icon-home"></i>首页</a>
              </li>
            
              <li class="menu-item">
                <a href="/linhui.github.io/archives" class="menu-item-link"><i class="iconfont icon-archive"></i>归档</a>
              </li>
            
              <li class="menu-item">
                <a href="/linhui.github.io/about" class="menu-item-link"><i class="iconfont icon-about"></i>关于</a>
              </li>
            
          </ul>
        </nav>
      </div>
</header>

      <div class="banner">
  <div class="show">
    <!-- <img src="/linhui.github.io/" alt="banner"> -->
    <div class="banner-title">
      
        <div class="post-title">
          Vue的组件的概念与基本使用
            <div class="post-tags">
    		    
    	      </div>
        </div>
      
    </div>
  </div>
</div>

      <main class="main"id="main">
          <article class="post">
  

  <header>
    <div class="post-title mobile-post-title">
      <h1>Vue的组件的概念与基本使用</h1>
        <div class="post-tags">
        
        </div>
    </div>
    <div class="post-meta">
      <span class="post-time"><i class="iconfont icon-calendar"></i>2018-04-07</span>
      
      <!----------------------------------->
        
      <!----------------------------------->
    </div>
  </header>
  
  <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">目录</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#什么是vue的组件（what）"><span class="toc-text">什么是vue的组件（what）?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#如何使用组件（how）"><span class="toc-text">如何使用组件（how）?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dom模版解析事项"><span class="toc-text">Dom模版解析事项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue-实例时传入的选项中data-必须是函数"><span class="toc-text">Vue 实例时传入的选项中data 必须是函数</span></a></li></ol>
    </div>
  </div>


  <div class="post-content">
    <h3 id="什么是vue的组件（what）"><a href="#什么是vue的组件（what）" class="headerlink" title="什么是vue的组件（what）?"></a>什么是vue的组件（what）?</h3><hr>
<p>&nbsp;&nbsp;组件(Component)是vue.js中很强大的一个功能，可以将一些可重用的代码进行封重用。所有的 Vue 组件同时也是 Vue 的实例，可以接受使用相同的选项对象和提供相同的生命周期钩子。<br> 一句话概括：组件就是可以扩展HTML元素，封装可重用的HTML代码，可以将组件看作自定义的HTML元素。</p>
<h3 id="如何使用组件（how）"><a href="#如何使用组件（how）" class="headerlink" title="如何使用组件（how）?"></a>如何使用组件（how）?</h3><hr>
<ul>
<li>前提条件: 使用组件名的时候是需要先实例化Vue的，因为组件现在是扩展在Vue中，想使用Vue中的组件就需要先实例化获得这个组件才能够使用</li>
</ul>
<ol>
<li>创建组件<br>创建组件即在Vue构造函数中通过extend()方法添加该组件（ps：可以理解成在刚开学的时候，老师不认识你，但是知道有泡泡这个人）</li>
<li>注册组件<br>注册组件即在Vue构造函数中通过一个属性名与之关联在一起，有点像var name=’paopao’;这个时候 temp就是泡泡了（ps：这个时候老师把花名册上的’泡泡’和人对应起来了）<br>组件的注册可分为全局注册与局部注册，区别：注册的地方不一致；全局注册就是只要是实例化Vue的范围都可以使用该组件，局部注册就是只能在某一个Vue实例的范围内使用该组件</li>
</ol>
<ul>
<li>全局注册（使用 Vue.component(tagName, options)）</li>
</ul>
<pre><code>
//使用组件
  < div id="app">
     < my-component>< /my-component>
  < /div>
//确保在初始化根实例之前注册组件
Vue.component('my-component', {
  template: '< div> component test! < /div>'
})
// 创建根实例
new Vue({
  el: '#app',
  components: { App },
  template: '< App/>'
})
</code></pre>

<p>最终渲染为：</p>
<pre><code>
< div id="app">
  < div>component test!< /div>
< /div>
</code></pre>

<ul>
<li>局部注册</li>
</ul>
<p>每个组件都注册到全局的方式显然很不合理，更多的时候采用的往往是局部注册的方式。可以通过某个 Vue 实例/组件的实例选项 components 注册仅在其作用域中可用的组件</p>
<pre><code>
var Child = {
  template: '< div>一个局部注册的组件!< /div>'
}
new Vue({
  components: {
  // < localRegistration>  只在父组件模板中才可用
    'localRegistration': Child
  }
})
</code></pre>

<ol start="3">
<li>使用组件</li>
</ol>
<p>这个时候就可以在dom中添加所创建的组件名（这个时候你终于可以以’泡泡’的名义去做点什么事了，比如上课，去图书馆等）</p>
<h3 id="Dom模版解析事项"><a href="#Dom模版解析事项" class="headerlink" title="Dom模版解析事项"></a>Dom模版解析事项</h3><hr>
<p>&nbsp;&nbsp; 当使用 DOM 作为模板时 (例如，使用 el 选项来把 Vue 实例挂载到一个已有内容的元素上)，会受到 HTML 本身的一些限制，因为 Vue 只有在浏览器解析、规范化模板之后才能获取其内容。要特别注意的是，像 &lt; ul&gt;、&lt; ol&gt;、&lt; table&gt;、&lt; select&gt; 这样的元素里允许包含的元素有限制，而另一些像 &lt; option&gt; 这样的元素只能出现在某些特定元素的内部。</p>
<p>例如(&lt; my-row&gt;为自定义的组件)：</p>
<pre><code>
< table>
  < my-row>< /my-row>
< /table>
</code></pre>

<p>此时的自定义组件 &lt; my-row&gt; 被当作无效的内容，因为 Vue 只有在浏览器解析、规范化模板之后才能获取其内容。而此时的table标签还没有被解析，所以在往里面放入自定义组件的时候会导致错误的渲染结果。此时的解决方法是可以使用特殊的 is 特性：</p>
<pre><code>
< table>
  < tr is="my-row">
< /table>
</code></pre>

<p> !!! 如果使用来自以下来源之一的字符串模板，则没有此限制:</p>
<ul>
<li><p>&lt; script type=”text/x-template”&gt;</p>
</li>
<li><p>JavaScript 内联模板字符串 (通过内联的方式使其一同进行加载)</p>
</li>
<li><p>.vue 组件</p>
<p>例如：</p>
</li>
</ul>
<pre><code>
 new Vue({
   el: '#app',
   components:{
     'selectcomp':{
       template: ' < select> < optioncomp>< /optioncomp>< /select>'
      }
    }
  })
</code></pre>

<h3 id="Vue-实例时传入的选项中data-必须是函数"><a href="#Vue-实例时传入的选项中data-必须是函数" class="headerlink" title="Vue 实例时传入的选项中data 必须是函数"></a>Vue 实例时传入的选项中data 必须是函数</h3><hr>
<p>如果这样的写法：</p>
<pre><code>
 data: {
   msg: 'Welcome to Your Vue.js App'
 }
</code></pre>

<p>将会报错：</p>
<pre><code>
//Vue 会停止运行，并在控制台发出警告，告诉你在组件实例中 data 必须是一个函数。
 [HMR] Waiting for update signal from WDS...
vue.esm.js?efeb:591 [Vue warn]: The "data" option should be a function that 
returns a per-instance value in component definitions.
</code></pre>

<p>举个例子来对比一下：</p>
<pre><code>
< div id="example">
  < simple-counter>< /simple-counter>
  < simple-counter>< /simple-counter>
  < simple-counter>< /simple-counter>

</code></pre>

<pre><code>
var data = { counter: 0 }
Vue.component('simple-counter', {
  template: '< button v-on:click="counter += 1">{{ counter }}< /button>',
  // data 的确是一个函数了，因此 Vue 不会警告，
  // 但是我们却给每个组件实例返回了同一个对象的引用(此处是为了做对比)
  data: function () {
    return data
  }
})

new Vue({
  el: '#example'
})
</code></pre>

<p> 现在的结果是有三个可以计数的按钮，但是不论点击的是哪一个，所有的按钮的所记数都会加1，因为每个组件实例返回的是同一个对象的引用，不论哪个按钮的对数据进行操作，都会影响到其他的按钮组件计数结果</p>
<pre><code>
//将其data的格式写成如下，此时每个 counter 都有自己内部的状态了，都是独立存在的，
每个组件返回的都是全新的数据对象：
data: function () {
  return {
    counter: 0
  }
}
</code></pre>
  </div>
  <div class="post-footer">the end</div>
</article>

          
  <nav class="pagination post-nav">
    
      <a href="/linhui.github.io/vue组件间的通信/">
        <span class="prev-post"><i class="iconfont icon-back"></i>vue组件间的通信</span>
      </a>
    
    
      <a href="/linhui.github.io/时间、时间戳、带格式时间的转换/">
        <span class="next-post">时间、时间戳、带格式时间的转换<i class="iconfont icon-more"></i></span>
      </a>
    
  </nav>


          
  


      </main>
    </div>
    <footer>
      <div class="social-links">
        
          
            <a href="https://www.zhihu.com/"><i class="iconfont icon-zhihu"></i></a>
          
        
          
            <a href="https://weibo.com"><i class="iconfont icon-weibo"></i></a>
          
        
          
            <a href="https://github.com/"><i class="iconfont icon-github"></i></a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
      
        <div class="quote">
          <p>Love all, trust a few, do wrong to none.——William Shakespeare</p>
        </div>
      
      <div class="copyright">
        <p>
          由 <a href="https://hexo.io/">Hexo</a> 强力驱动
          <span>|</span>
          主题 - <a href="https://github.com/wa-ri/hexo-theme-ztopic">ztopic</a
        </p>
        <p>
          <span>
          
          &copy;
          
            2018
          
          </span>
          <i class="iconfont icon-circle"></i>
          <span>林晖</span>
        </p>
      </div>
</footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <div id="mobile-nav">
  <nav id="mobile-nav-menu">
    
      <a href="/linhui.github.io/" class="mobile-nav-link"><i class="iconfont icon-home"></i>首页</a>
    
      <a href="/linhui.github.io/archives" class="mobile-nav-link"><i class="iconfont icon-archive"></i>归档</a>
    
      <a href="/linhui.github.io/about" class="mobile-nav-link"><i class="iconfont icon-about"></i>关于</a>
    
    <div class="mobile-intro"><i class="iconfont icon-pen"></i>practice makes perfect</div>
  </nav>
</div>


  <script src="/linhui.github.io/libs/jQuery/jquery-3.2.1.min.js"></script>
  <script src="/linhui.github.io/libs/slideout/slideout.min.js"></script>
  
    <link rel="stylesheet" href="/linhui.github.io/libs/fancybox/jquery.fancybox.css">
    <script src="/linhui.github.io/libs/fancybox/jquery.fancybox.pack.js"></script>
  
  

  <script src="/linhui.github.io/js/ztopic.js"></script>
</body>
</html>
